<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>HW_1_JS</title>
	</head>
	<body>
		
		<script>
			console.log("Лексическое окружение. Задачи");



/////////////////////////////////////////////////////////////////////////////////////
			console.log("1");

			console.log(getBigName(userName));

			function getBigName(name) {
				name = name + '';
				return name.toUpperCase();
			}
			
			var userName = 'Ivan';

			//вернёт UNDEFINED, т.к. переменная userName объявлена после вызова функции,
			// в тело ф-ции передается undefined, а возвращается undefined.toUpperCase


/////////////////////////////////////////////////////////////////////////////////////
			console.log("2");

			function test() {
				var name = 'Vasiliy';
				return getBigName(userName);
			}

			function getBigName(name) {
				name = name + '';
				return name.toUpperCase();
			}
			
			var userName = 'Ivan';
			console.log(test());
			
			//вернёт IVAN, т.к. переменной userName нет в теле test(), он ее находит в глобальной области
			// test() вызывает getBigName(name), передавая ей в качестве аргумента 'Ivan' 
			//getBigName(name) возвращает функции test() Ivan.toUpperCase
			
///////////////////////////////////////////////////////////////////////////////////////////			
			console.log("3");

			var food = 'cucumber';

			(function() {
				var food = 'bread';
				getFood();
			})();

			function getFood() {
				console.log(food);
			}

			// аналогично прошлой задаче
			// выведет в консоль  cucumber, т.к. переменной food нет в теле getFood(), он ее находит в глобальной области
			


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


			console.log("Замыкания. Задачи");


			console.log("1)");


			var dollar,
				getDollar;

				(function() {
					var dollar = 0;
					getDollar = function() {
						return dollar;
					}
				}());

			dollar = 30;
			console.log(getDollar());
			// getDollar() вернет 0, т.к. сразу не найдет переменную dollar в своем ЛО, и найдет ее же в ЛО родителя
			// т.е. var dollar = 0;

			
//////////////////////////////////////////////////////////////////////////////////////////////////

			console.log("2)");


			var greet = 'Hello';

			(function() {
				var text = "World";
				console.log(greet + text);
			}());
			// console.log(greet + text);

			// при первом выводе в консоль выведется HelloWorld, т.к. функция найдет переменную text в своем теле, 
			//а переменную greet (не найдя в своем ЛО), найдет в ЛО родителя - глобальной области

			// при втором вызове консоля будет ошибка, т.к. переменная text в таком случае не видна (локальна для ф-ции)
////////////////////////////////////////////////////////////////////////////////////////////////////


		console.log("3)");

 
		function minus(a) {
			var result = function(b) {
				var a1,
					b1;
				a1 = a || 0;
				b1 = b || 0;

				return a1 - b1;
			};
			
			return result;
		}

		console.log(minus()(6));


///////////////////////////////////////////////////////////////////////////////////////////////


		console.log("4)");

		function multiMaker(arg) {
			var firstMultiplier = arg,
				result = function(secondMultiplier) {
					firstMultiplier *= secondMultiplier;

				return firstMultiplier;
				}
			return result;	
		}

		var multiply = multiMaker(2);

		console.log(multiply(2));
		console.log(multiply(1));
		console.log(multiply(3));
		console.log(multiply(10));

///////////////////////////////////////////////////////////////////////////////////////////////

		console.log("5)");

		let numbers = [4,12,0,10,-2,4];

		var b = Math.min.apply(null, numbers);
		console.log(b);

///////////////////////////////////////////////////////////////////////////////////////////////


		console.log("6)");

		const element = {
			height: "15px",
			marginTop: "5px",
			marginBottom: "5px",
			getFullHeight: function() {

				return parseFloat(this.height) + 
					   parseFloat(this.marginTop) + 
					   parseFloat(this.marginBottom) +
					   'px';
			}
		};

		console.log(element.getFullHeight());

		const block = {
			height: "5px",
			marginTop: "3px",
			marginBottom: "3px",
		};

		block.getFullHeight = element.getFullHeight;

		console.log(block.getFullHeight());


////////////////////////////////////////////////////////////////////////////////////////////////////

		console.log("7)");

		let element1 = {
			height: 25,
			getHeight: function() {

				return this.height;
			}
		},

			getElementHeight = element1.getHeight.bind(element1);

			console.log(getElementHeight());



</script>
</body>